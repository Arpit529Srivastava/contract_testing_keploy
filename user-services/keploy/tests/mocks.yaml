version: "v1"
mocks:
  - name: "CreateUser"
    kind: "Postgres"
    spec:
      request:
        query: "INSERT INTO users (name, email) VALUES ($1, $2) RETURNING id"
        arguments:
          - "Test User"
          - "arpitsrivastava@gmail.com"
      response:
        rows:
          - [1]
  - name: "GetUserByID"
    kind: "Postgres"
    spec:
      request:
        query: "SELECT EXISTS(SELECT 1 FROM users WHERE id = $1)"
        arguments:
          - 1
      response:
        rows:
          - [true]
  - name: "GetAllUser"
    kind: "Postgres"
    spec:
      request:
        query: "SELECT id, name, email FROM users"
      response:
        rows:
          - [1, "Test User", "arpitsrivastava529@gmail.com"]
          - [2, "Another User", "srivastavaji529@gmail.com"]
